<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ScanShip - Cek Ongkir</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.5.2/css/all.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/cek-biaya.css">
    <link rel="icon" href="assets/images/favicon.ico" type="image/x-icon"/>
</head>

<body data-bs-spy="scroll" data-bs-target=".navbar">
    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg bg-white sticky-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <img src="./assets/images/logo.png" width="40" height="40" alt="">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="tracking.html">Lacak Paket</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="cek-biaya.html">Cek Biaya</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://instagram.com/ka01dump">Hubungi Kami</a>
                    </li>
                </ul>
                <a href="login.html" class="btn btn-brand ms-lg-3">Masuk</a>
            </div>
        </div>
    </nav>

    <div class="container mt-5" style="width: 700px">
        <h2 class="text-center">CEK ONGKIR</h2>
        <h6 class="text-center">Periksa tarif pengiriman anda</h6>
        <div class="card p-4 mt-5">
            <form>
                <div class="form-group p-3">
                    <span class="icon"><i class="fa-regular fa-location-dot"></i></span>
                    <input type="text" class="form-control" id="asalPengiriman" placeholder="Asal Pengiriman" required oninvalid="this.setCustomValidity('Masukkan asal pengiriman ðŸ“');" 
                    onchange="try{setCustomValidity('')}catch(e){};" x-moz-errormessage="Masukkan asal pengiriman ðŸ“">
                </div>
                <div class="form-group p-3">
                    <span class="icon"><i class="fa-solid fa-location-dot"></i></span>
                    <input type="text" class="form-control" id="tujuanPengiriman" placeholder="Tujuan Pengiriman" required oninvalid="this.setCustomValidity('Masukkan tujuan pengiriman ðŸ“');" 
                    onchange="try{setCustomValidity('')}catch(e){};" x-moz-errormessage="Masukkan tujuan pengiriman ðŸ“">
                </div>
            </form>
        </div>
        <div class="form-group p-3" style="width: 620px;">
            <span class="icon"><i class="fa-regular fa-weight-scale"></i></span>
            <input type="number" class="form-control" id="beratBarang" placeholder="Berat Barang (kg)" required oninvalid="this.setCustomValidity('Masukkan berat barang âš–ï¸');" 
            onchange="try{setCustomValidity('')}catch(e){};" x-moz-errormessage="Masukkan berat barang âš–ï¸">
        </div>
        <button type="button" class="btn cek text-center btn-primary btn-block md-5 mt-4" onclick="cekOngkir()">Cek Harga</button>
    </div>

    <div class="container mt-5" id="resultTable">
        <table class="table mt-4">
            <thead class="thead-dark text-center">
                <tr>
                    <th>Layanan</th>
                    <th>Jenis Kiriman</th>
                    <th>Estimasi Tiba</th>
                    <th>Ongkir</th>
                </tr>
            </thead>
            <tbody id="hasilOngkir">
                <!-- Data akan muncul di sini -->
            </tbody>
        </table>
    </div>
     
    <!-- FOOTER -->
    <footer class="bg-dark">
        <div class="footer-top">
            <div class="container">
                <div class="row gy-5">
                    <div class="col-lg-3 col-sm-6">
                        <a href="#"><img src="./assets/images/logo-light.png" width="70" height="70" alt=""></a>
                        <div class="line"></div>
                        <p>Solusi pengiriman Anda</p>
                        <div class="social-icons">
                            <a href="https://instagram.com/ka01dump"><i class="fa-brands fa-instagram"></i></a>
                            <a href="mailto:2326ka01@gmail.com"><i class="fa-regular fa-mailbox"></i></a>
                            <a href="https://x.com/gunadarma_"><i class="fa-brands fa-twitter"></i></a>
                            <a href="https://www.tiktok.com/@univgunadarma"><i class="fa-brands fa-tiktok"></i></a>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <h5 class="mb-0 text-white">Jasa</h5>
                        <div class="line"></div>
                        <ul>
                            <li><a href="tracking.html">Lacak Paket</a></li>
                            <li><a href="cek-biaya.html">Cek Biaya</a></li>
                        </ul>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <h5 class="mb-0 text-white">Tentang</h5>
                        <div class="line"></div>
                        <ul>
                            <li><a href="index.html#about">ScanShip</a></li>
                            <li><a href="index.html#services">Mengapa ScanShip?</a></li>
                            <li><a href="index.html#reviews">Ulasan</a></li>
                            <li><a href="index.html#faqs">Pertanyaan</a></li>
                        </ul>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <h5 class="mb-0 text-white">Kontak</h5>
                        <div class="line"></div>
                        <ul>
                            <li>Jl. Margonda Raya 100 - Depok</li>
                            <li>(021) 29428935</li>
                            <li>2326ka01@gmail.com</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <div class="row g-4 justify-content-between">
                    <div class="col-auto">
                        <p class="mb-0">Â© Copyright ScanShip. All Rights Reserved</p>
                    </div>
                    <div class="col-auto">
                        <p class="mb-0">Designed with ðŸ’™ By Kelompok 2</p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script>
        function cekOngkir() {
            var berat = document.getElementById('beratBarang').value;
            var hasilOngkir = document.getElementById('hasilOngkir');
            var resultTable = document.getElementById('resultTable');
            hasilOngkir.innerHTML = '';

            if (berat && berat > 0) {
                fetch(`http://localhost:8080/scanship-api/ongkir.php?berat=${berat}`)
                    .then(response => response.json())
                    .then(data => {
                        data.forEach(item => {
                            var row = `
                                <tr class="text-center">
                                    <td>${item.layanan}</td>
                                    <td>${item.jenis_kiriman}</td>
                                    <td>${item.estimasi_tiba}</td>
                                    <td>${item.ongkir}</td>
                                </tr>
                            `;
                            hasilOngkir.innerHTML += row;
                        });
                        resultTable.style.display = 'block'; // Show the table
                    })
                    .catch(error => console.error('Error:', error));
            } else {
                alert('Mohon masukkan berat barang yang valid.');
            }
        }
    </script>
</body>

</html>